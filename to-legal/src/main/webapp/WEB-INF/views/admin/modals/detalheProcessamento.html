<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:fragment="detalheProcessamento">
    <div id="detalheProcessamento" class="modal fade" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> </button>
                    <h4 class="modal-title">Detalhes Lotes</h4>
                </div>
                <div class="modal-body">
                    <div id="containerLotes"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    <script id="tabelaLotes" type="text/x-handlebars-template">
        <div class="row">
            <table class="table table-striped table-hover table-ordered text-left">
                <thead>
                {{#if lotes}}
                <tr>
                    <th class="th-sort" data-field="id">ID<span class="mdi-navigation-arrow-drop-down"></span></th>
                    <th class="th-sort" data-field="dataInicioProcessamento">Data<span></span></th>
                    <th class="th-sort" data-field="numeroLote">N&#250;mero<span></span></th>
                    <th class="th-sort" data-field="tipoOrigemDocumentoFiscal">Origem<span></span></th>
                    <th class="th-sort" data-field="statusProcessamentoLote">Status<span></span></th>
                    <th>Info Erro</th>
                    <th class="text-center">A&#231;&#245;es</th>
                </tr>
                </thead>
                <tbody>
                {{#each lotes}}
                <tr>
                    <td class="w10">{{id}}</td>
                    <td class="w10">{{dataInicioProcessamento}}</td>
                    <td class="w10">{{numeroLote}}</td>
                    <td class="w10">{{tipoOrigemDocumentoFiscal}}</td>
                    <td class="w20">{{statusProcessamentoLote}}</td>
                    {{#if infoMotivoErroProcessamento}}
                    <td class="w30 truncate" data-toggle="snackbar" data-timeout="0" data-content="{{infoMotivoErroProcessamento}}" rel="tooltip" data-placement="top" title="" data-original-title="Clique para detalhes" data-action="reprocessar">{{infoMotivoErroProcessamento}}</td>
                    {{else}}
                    <td class="w30"></td>
                    {{/if}}
                    <td class="w10 text-center td-actions">
                        {{#if ../showReprocessar}}
                        <i data-id="{{id}}" rel="tooltip" data-placement="top" title="" data-original-title="Reprocessar" data-action="reprocessar" class="mdi-action-restore btn-update"></i>
                        {{/if}}
                        {{#if ../showRevalidar}}
                        <i data-id="{{id}}" rel="tooltip" data-placement="top" title="" data-original-title="Revalidar" data-action="revalidar" class="mdi-action-find-replace btn-update"></i>
                        {{/if}}
                    </td>
                </tr>
                {{/each}}
                </tbody>
                {{else}}
                <thead>
                <tr>
                    <th class="text-center">Nenhum lote encontrado</th>
                </tr>
                </thead>
                {{/if}}
            </table>
        </div>
    </script>
</div>
</html>